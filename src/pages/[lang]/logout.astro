---
import { getLocalizedPath } from '../../i18n/utils';

export const prerender = false;

const { lang } = Astro.params;
---

<script>
    import { supabase } from '../../lib/supabase';
    
    // Perform logout
    await supabase.auth.signOut();
    
    // Redirect to home
    // We get the lang from the URL to redirect correctly
    const path = window.location.pathname;
    const lang = path.split('/')[1] || 'es';
    window.location.href = `/${lang}`;
</script>

<p>Logging out...</p>
